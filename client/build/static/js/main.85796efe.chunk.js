(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(19),r=n.n(c),s=(n(53),n(54),n(86)),a=n(88),i=n(47),j=n(2);var l=function(e){return Object(j.jsxs)(s.a,{bg:"primary",variant:"dark",children:[Object(j.jsxs)(s.a.Brand,{href:"#home",children:[" ",Object(j.jsx)(i.a,{})," My Bookshelves"]}),Object(j.jsxs)(a.a,{className:"mr-auto",children:[Object(j.jsx)(a.a.Link,{href:"/",children:"Search"}),Object(j.jsx)(a.a.Link,{href:"/saved",children:"Saved"})]})]})},d=n(45),u=n(6),h=n(83);function b(){return Object(j.jsx)("div",{children:Object(j.jsxs)(h.a,{children:[Object(j.jsx)("h1",{children:"Welcome to my bookshelves app"}),Object(j.jsx)("p",{children:"If you are wanting to create a reading list with any book Google can finde, this is the app for you!"})]})})}var O=n(85),f=n(18),x=n(89),v=n(84),k=n(21),m=n(17),p=n.n(m),g=n(27),w=n(20),B=n.n(w),y={getBooks:function(){return Object(g.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",B.a.get("/api/books"));case 1:case"end":return e.stop()}}),e)})))()},addBook:function(e){return Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("added books",{book:e}),t.abrupt("return",B.a.post("/api/books",Object(k.a)({},e)));case 2:case"end":return t.stop()}}),t)})))()},deleteBook:function(e){return Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",B.a.delete("/api/books/".concat(e)));case 1:case"end":return t.stop()}}),t)})))()}};var N=function(e){var t=e.book;return Object(j.jsx)(v.a,{onClick:function(){y.addBook(t).then((function(e){console.log("book data",e),console.log("yes, book added")})).catch((function(e){console.log(e)}))},children:"Save"})};var S=function(e){var t=e.books;return Object(j.jsx)(x.a,{className:"my-4",children:Object(j.jsx)(x.a.Body,{children:t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:" Search Results"}),t.map((function(e){return Object(j.jsx)(x.a,{children:Object(j.jsxs)(x.a.Body,{children:[Object(j.jsx)(N,{book:e}),Object(j.jsx)("p",{className:"my-4",children:Object(j.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail})}),Object(j.jsxs)("h2",{className:"my-3",children:['"',e.volumeInfo.title,'" by ',e.volumeInfo.authors]}),Object(j.jsx)("h3",{children:"Book description:"}),Object(j.jsx)("p",{children:e.volumeInfo.description})]})},e.id)}))]}):Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Search Results"})})})})},I=n(87);var E=function(e){var t=e.setBooks,n=Object(o.useState)("AIzaSyBN5BdHj9x_qT1p_mD1809eAejL-c-U7zE"),c=Object(f.a)(n,2),r=c[0],s=(c[1],Object(o.useRef)({setBooks:t}));return Object(j.jsx)(x.a,{children:Object(j.jsxs)(x.a.Body,{children:[Object(j.jsx)("h2",{children:"Search"}),Object(j.jsxs)(I.a,{onSubmit:function(e){e.preventDefault(),B.a.get("https://www.googleapis.com/books/v1/volumes?q="+s.current.value+"&key="+r).then((function(e){var n=e.data;console.log("Google Books!",n.items),t(n.items)}))},children:[Object(j.jsxs)(I.a.Group,{controlId:"formBookName",children:[Object(j.jsx)(I.a.Label,{children:"Book Name"}),Object(j.jsx)(I.a.Control,{ref:s,type:"text",placeholder:"Enter the name of a book or author."})]}),Object(j.jsx)(v.a,{variant:"primary",type:"submit",children:"Search"})]})]})})};var L=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(E,{setBooks:c}),Object(j.jsx)(S,{books:n})]})},R=n(48);var W=function(e){var t=e.bookId,n=e.getBooks,o=Object(R.a)(e,["bookId","getBooks"]);return console.log("deleteBook",t),Object(j.jsx)(v.a,Object(k.a)(Object(k.a)({onClick:function(){y.deleteBook(t).then((function(e){return console.log("deleted!",e),n()})).catch((function(e){console.log(e)}))}},o),{},{children:"Delete"}))};var A=function(e){var t=e.books,n=e.getBooks;return Object(j.jsx)(x.a,{className:"my-4",children:Object(j.jsx)(x.a.Body,{children:t.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:" Results"}),t.map((function(e){return Object(j.jsx)(x.a,{className:"my-4",children:Object(j.jsxs)(x.a.Body,{children:[Object(j.jsx)(x.a.Title,{children:e.title}),Object(j.jsx)(v.a,{href:e.link,children:"View"}),Object(j.jsx)(W,{bookId:e._id,getBooks:n,className:"ml-2"}),Object(j.jsx)("p",{className:"my-4",children:Object(j.jsx)("img",{src:e.image})}),Object(j.jsxs)("h2",{className:"my-3",children:['"',e.title,'" by ',e.authors]}),Object(j.jsx)("h3",{children:"Book description:"}),Object(j.jsx)("p",{children:e.description})]})},t._id)}))]}):Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"No Search Result"})})})})};var C=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],r=function(){return y.getBooks().then((function(e){console.log("getbooks data",e),c(e.data)}))};return Object(o.useEffect)((function(){r()}),[c]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:" Saved Books"}),Object(j.jsx)(A,{books:n,getBooks:r})]})};var G=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:" PAGE Not Found"})})};var _=function(){return Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l,{isloggedin:!1}),Object(j.jsxs)(O.a,{className:"py-5",children:[Object(j.jsx)(b,{}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:L}),Object(j.jsx)(u.a,{exact:!0,path:"/saved",component:C}),Object(j.jsx)(u.a,{component:G})]})]})]})},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(j.jsx)(_,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");D?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):q(e)}))}}()}},[[81,1,2]]]);
//# sourceMappingURL=main.85796efe.chunk.js.map